(()=>{"use strict";var t={61:()=>{navigator.userAgent.indexOf("Safari")>-1&&navigator.userAgent.indexOf("Chrome")<=-1&&document.documentElement.classList.add("is-safari")},498:()=>{var t=["#wpadminbar","#headerwrapper"],e="--fau-top-fixed-height",n="-shadow",r=function(){var n=t.reduce((function(t,e){var n=document.querySelector(e);return n?t+n.clientHeight:t}),0);document.body.style.setProperty(e,"".concat(n,"px"))},o=function(t){t.forEach((function(t){t.isIntersecting?t.target.classList.add(n):t.target.classList.remove(n)}))};window.addEventListener("resize",r),window.addEventListener("DOMContentLoaded",r),window.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".c-search-filters").forEach((function(t){var n=document.body.style.getPropertyValue(e),r=parseInt(n.replace("px",""),10);if(r){var a="0px 0px -".concat(window.outerHeight-r,"px");new IntersectionObserver(o,{rootMargin:a}).observe(t)}}))}))},835:()=>{document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".c-sort-selector select").forEach((function(t){t.addEventListener("change",(function(){window.location.href=t.value}))}))}))},508:()=>{var t=".search-filter__output_modes .search-filter__output-mode-option",e="-active",n="-list",r="-tiles",o=function(o){var a=document.querySelectorAll(".c-degree-programs-collection");a.length&&(document.querySelectorAll(t).forEach((function(t){var n=t;n.classList.remove(e),n.dataset.mode===o&&n.classList.add(e)})),a.forEach((function(t){t.classList.remove(n,r),t.classList.add("list"===o?n:r)})))};document.querySelectorAll(t).forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault();var n=t.dataset.mode;n&&(o(n),function(t){var e=new URL(window.location.href);e.searchParams.set("output",t),window.history.pushState({outputMode:t},"",e)}(n))}))})),window.addEventListener("popstate",(function(t){var e=t.state.outputMode;e&&o(e)}))}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=".c-accordion-item__button",e="--content-height",r=function(t){var e;if("false"!==t.ariaExpanded){var n=document.getElementById(null!==(e=t.getAttribute("aria-controls"))&&void 0!==e?e:"");n instanceof HTMLElement&&(t.setAttribute("aria-expanded","false"),n.setAttribute("hidden","hidden"))}};document.querySelectorAll(t).forEach((function(n){n.addEventListener("click",(function(o){o.preventDefault(),function(n){var o=n.closest(".c-accordion-item");if(o instanceof HTMLElement){var a=o.parentElement;a instanceof HTMLElement&&("true"!==n.getAttribute("aria-expanded")?(function(t){var n;if("true"!==t.ariaExpanded){var r=document.getElementById(null!==(n=t.getAttribute("aria-controls"))&&void 0!==n?n:"");r instanceof HTMLElement&&(r.style.getPropertyValue(e)||r.style.setProperty(e,"".concat(r.scrollHeight,"px")),t.setAttribute("aria-expanded","true"),r.removeAttribute("hidden"))}}(n),a.querySelectorAll("".concat(t,":not(#").concat(n.id,")")).forEach(r)):r(n))}}(n)}))}));var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o.apply(this,arguments)};function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,a=n.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}function i(t,e,n){if(n||2===arguments.length)for(var r,o=0,a=e.length;o<a;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;const c=window.wp.i18n,l=o({},window.degreeProgramsOverviewSettings);var s=function(){function t(t){var e=t.id,n=t.image,r=t.url,o=t.title,a=t.degree,i=t.semester,c=t.location,l=t.admissionRequirements,s=t.germanLanguageSkills,u=t.lang;this.id=e,this.image=n,this.url=r,this.title=o,this.degree=a,this.semester=i,this.location=c,this.admissionRequirements=l,this.germanLanguageSkills=s,this.lang=u}return t.createDegreeProgram=function(e){var n;return new t({id:e.id,title:e.title,degree:e.degree,image:e.teaser_image.rendered||l.icon_degree,url:e.link,location:e.location,semester:e.start,admissionRequirements:null===(n=e.admission_requirement_link)||void 0===n?void 0:n.name,germanLanguageSkills:e.german_language_skills_for_international_students.name,lang:e.lang})},t.prototype.urlWithLang=function(){var t=new URL(this.url);return t.searchParams.set("lang",this.lang),t.toString()},t.prototype.render=function(t){return'\n\t\t\t<li class="c-degree-program-preview">\n\t\t\t\t<div class="c-degree-program-preview__teaser-image">\n\t\t\t\t\t'.concat(this.image,'\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__title">\n\t\t\t\t\t<a class="c-degree-program-preview__link" href="').concat("true"===t?this.urlWithLang():this.url,'" rel="bookmark" aria-labelledby="degree-program-title-').concat(this.id,'"></a>\n\t\t\t\t\t<div id="degree-program-title-').concat(this.id,'">\n\t\t\t\t\t\t').concat(this.title,' (<abbr title="').concat(this.degree.name,'">').concat(this.degree.abbreviation,'</abbr>)\n\t\t\t\t\t\t<div class="c-degree-program-preview__subtitle"></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__degree">\n\t\t\t\t\t<span class="c-degree-program-preview__label">\n\t\t\t\t\t\t').concat((0,c._x)("Type","frontoffice: degree-programs-overview","fau-degree-program-output"),":\n\t\t\t\t\t</span>\n\t\t\t\t\t").concat(this.degree.name,'\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__start">\n\t\t\t\t\t<span class="c-degree-program-preview__label">\n\t\t\t\t\t\t').concat((0,c._x)("Start","frontoffice: degree-programs-overview","fau-degree-program-output"),":\n\t\t\t\t\t</span>\n\t\t\t\t\t").concat(this.semester.join(", "),'\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__location">\n\t\t\t\t\t<span class="c-degree-program-preview__label">\n\t\t\t\t\t\t').concat((0,c._x)("Location","frontoffice: degree-programs-overview","fau-degree-program-output"),":\n\t\t\t\t\t</span>\n\t\t\t\t\t").concat(this.location.join(", "),'\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__admission-requirement">\n\t\t\t\t\t<span class="c-degree-program-preview__label">\n\t\t\t\t\t\t').concat((0,c._x)("NC","frontoffice: degree-programs-overview","fau-degree-program-output"),":\n\t\t\t\t\t</span>\n\t\t\t\t\t").concat(this.admissionRequirements?this.admissionRequirements:"",'\n\t\t\t\t</div>\n\t\t\t\t<div class="c-degree-program-preview__language-certificates">\n\t\t\t\t\t<span class="c-degree-program-preview__label">\n\t\t\t\t\t\t').concat((0,c._x)("Language certificates","frontoffice: degree-programs-overview","fau-degree-program-output"),":\n\t\t\t\t\t</span>\n\t\t\t\t\t").concat(this.germanLanguageSkills,"\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t")},t}();const u=s;var d,v=".c-no-search-results",f=document.querySelector(".c-degree-programs-search"),p=null==f?void 0:f.querySelector(".c-degree-programs-collection"),g=(null==f?void 0:f.getAttribute("data-locale-switched"))||"",m=(null===(d=null==f?void 0:f.getAttribute("lang"))||void 0===d?void 0:d.substring(0,2))||"de";const h=function(t){var e;null==p||p.setAttribute("aria-busy","true"),null===(e=null==p?void 0:p.querySelectorAll(".c-degree-program-preview"))||void 0===e||e.forEach((function(t){return t.remove()}));var n,r=t.map((function(t){return u.createDegreeProgram(t)}));if(!r.length)return function(){var t,e=null==f?void 0:f.querySelector(v);if(!e)return t='\n\t\t<p class="c-no-search-results">\n\t\t\t'.concat((0,c._x)("No degree programs found","frontoffice: Search results","fau-degree-program-output"),"\n\t\t</p>"),void(null==f||f.insertAdjacentHTML("beforeend",t));e.classList.remove("hidden")}(),void(null==p||p.setAttribute("aria-busy","false"));(n=null==f?void 0:f.querySelector(v))&&n.classList.add("hidden"),function(t){var e=t.map((function(t){return t.render(g)})).join("");null==p||p.insertAdjacentHTML("beforeend",e)}(r),null==p||p.setAttribute("aria-busy","false")},y=function(){return window.matchMedia("(prefers-reduced-motion)").matches};var w="c-filter-dropdown__count",b=".".concat(w);var _="german-language-skills-for-international-students",S=document.querySelectorAll(".c-filter-checkbox"),E=0;S.forEach((function(t){var e=t.querySelector("input[type=checkbox]");(null==e?void 0:e.name.startsWith(_))&&(null==e?void 0:e.checked)&&E++,null==e||e.addEventListener("change",(function(n){var r;e.name.startsWith("extended")||(M(t,e),function(t){var e,n=t.closest(".c-filter-dropdown"),r=null==n?void 0:n.querySelector(".c-filter-dropdown__label");if(n&&r){var o=n.querySelector(b);o||((o=document.createElement("span")).className=w,r.insertAdjacentElement("afterend",o));var a=Number((null===(e=o.textContent)||void 0===e?void 0:e.trim())||"0");(a+=t.checked?1:-1)<1?o.remove():o.textContent=String(a)}}(e)),e.name.startsWith(_)&&(r={activeFilters:(E+=e.checked?1:-1)>=1?_:""},p instanceof HTMLElement&&Object.entries(r).forEach((function(t){var e=a(t,2),n=e[0],r=e[1];p.dataset[n]=r}))),y()||Y()}))}));var L="c-active-search-filters__item",x=".".concat(L),q=document.querySelector(".c-active-search-filters"),A=document.querySelector(".c-active-search-filters__list"),k=function(){return document.querySelectorAll(x)},C=function(){0===k().length&&(null==q||q.classList.add("hidden"))},P=function(t){var e;t.preventDefault();var n=t.target;!function(t){if(t){var e=t.split(":").map((function(t){return t.trim()}));if(a(e,1)[0]===O)return H(),void(y()&&Y());var n=a(e,2)[1];S.forEach((function(t){var e,r,o=null===(r=null===(e=t.querySelector("span"))||void 0===e?void 0:e.textContent)||void 0===r?void 0:r.trim();if(n===o){var a=t.querySelector("input[type=checkbox]");a.checked=!1,a.dispatchEvent(new Event("change")),y()&&Y()}}))}}((null===(e=n.textContent)||void 0===e?void 0:e.trim())||""),n.remove(),C()};k().forEach((function(t){t.addEventListener("click",P)}));var j=function(t){var e=document.createElement("a");e.insertAdjacentHTML("beforeend","\n\t\t\t".concat(l.icon_close,"\n\t\t\t").concat(t,"\n\t\t")),e.className=L,e.addEventListener("click",P),null==A||A.insertAdjacentElement("beforeend",e),null==q||q.classList.remove("hidden")},M=function(t,e){var n=function(t,e){var n,r,o,a,i,c,l,s=null===(r=null===(n=t.querySelector("span"))||void 0===n?void 0:n.textContent)||void 0===r?void 0:r.trim(),u=e.closest(".c-advanced-filter-item");return u?(l=null===(a=null===(o=u.querySelector(".c-accordion-item__title"))||void 0===o?void 0:o.textContent)||void 0===a?void 0:a.trim(),"".concat(l,": ").concat(s)):(l=null===(c=null===(i=null==(u=e.closest(".c-filter-dropdown"))?void 0:u.querySelector(".c-filter-dropdown__label"))||void 0===i?void 0:i.textContent)||void 0===c?void 0:c.trim(),"".concat(l,": ").concat(s))}(t,e);e.checked?j(n):function(t){k().forEach((function(e){var n;(null===(n=e.textContent)||void 0===n?void 0:n.trim())===t&&e.remove()})),C()}(n)},O=(0,c._x)("Keyword","frontoffice: degree-programs-overview","fau-degree-program-output"),T=document.querySelector(".c-degree-programs-searchform__input"),D="";y()||function(){var t=null;null==T||T.addEventListener("input",(function(){t&&clearTimeout(t),((null==T?void 0:T.value.trim())||"").length>3&&(t=setTimeout((function(){Y(),t=null}),1500))}))}(),null==T||T.addEventListener("focus",(function(){D=(null==T?void 0:T.value.trim())||""})),null==T||T.addEventListener("blur",(function(){var t=(null==T?void 0:T.value.trim())||"";t.length<=3&&D!==t&&Y()})),null==T||T.addEventListener("search",(function(){Y()}));var H=function(){T&&(T.value="",T.dispatchEvent(new Event("search")))};const R=window.wp.apiFetch;var I=n.n(R);const W=window.wp.url;var U=function(t,e,n,r){return void 0===n&&(n=1),void 0===r&&(r=100),o=void 0,c=void 0,s=function(){var o,c,l,s,u;return function(t,e){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(c){return function(l){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,r=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){i.label=c[1];break}if(6===c[0]&&i.label<o[1]){i.label=o[1],o=c;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(c);break}o[2]&&i.ops.pop(),i.trys.pop();continue}c=e.call(t,i)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,l])}}}(this,(function(d){switch(d.label){case 0:return[4,I()({path:(0,W.addQueryArgs)(t,{page:n,per_page:r,lang:e}),parse:!1})];case 1:return[4,(o=d.sent()).json()];case 2:return c=d.sent(),l=parseInt(null!==(u=o.headers.get("X-WP-TotalPages"))&&void 0!==u?u:"1"),n<l?(s=[i([],a(c),!1)],[4,U(t,e,++n)]):[3,4];case 3:c=i.apply(void 0,s.concat([a.apply(void 0,[d.sent()]),!1])),d.label=4;case 4:return[2,c]}}))},new((l=void 0)||(l=Promise))((function(t,e){function n(t){try{a(s.next(t))}catch(t){e(t)}}function r(t){try{a(s.throw(t))}catch(t){e(t)}}function a(e){var o;e.done?t(e.value):(o=e.value,o instanceof l?o:new l((function(t){t(o)}))).then(n,r)}a((s=s.apply(o,c||[])).next())}));var o,c,l,s};const N=U;var B=["order","order_by"],F=document.querySelectorAll("a.c-degree-programs-collection__header-item");var V=".loader",z=document.querySelector(V),G=function(){return z||(document.body.insertAdjacentHTML("afterbegin",'\n        <div class="loader">\n            <div class="loader-icon"></div>\n        </div>\n    '),z=document.querySelector(V)),z},K=document.querySelector(".c-degree-programs-search form");null==K||K.addEventListener("submit",(function(t){t.preventDefault(),Q()}));var Q=function(){var t=new FormData(K),e=new URLSearchParams(t),n=new URLSearchParams(window.location.search);B.forEach((function(t){var r=n.get(t);r&&e.append(t,r)})),J("?".concat(e.toString()))},X=null,J=function(t){void 0===t&&(t=""),G().classList.remove("hidden"),X&&clearTimeout(X),X=setTimeout((function(){var e;(function(){if(T){var t,e,n,r=T.value.trim();t=O,e=r,n=!0,k().forEach((function(r){var o,i=((null===(o=r.textContent)||void 0===o?void 0:o.trim())||"").split(":").map((function(t){return t.trim()}));if(a(i,1)[0]===t){var c=a(i,2)[1];if(e!==c)return r.remove(),void C();n=!1}})),e&&n&&j("".concat(t,": ").concat(e))}})(),history.replaceState(null,"",t||window.location.pathname),e=t,F.forEach((function(t){var n=new URLSearchParams(e),r=a(t.href.split("?"),2)[1];if(r&&e){var o=a(t.href.split("?"),1)[0];new URLSearchParams(r).forEach((function(t,e){B.includes(e)&&n.set(e,t)})),t.href="".concat(o,"?").concat(n.toString())}})),N("/fau/v1/degree-program".concat(t),m).then((function(t){h(t)})).finally((function(){G().classList.add("hidden")})),X=null}),500)};const Y=Q;var Z=function(){function t(t){this.initialState=[],this.dropdown=t,this.toggle=t.querySelector(".fau-dropdown__toggle"),this.content=t.querySelector(".fau-dropdown__content"),this.checkboxes=Array.from(this.content.querySelectorAll('input[type="checkbox"]')),this.init()}return t.prototype.recordInitialState=function(){this.initialState=this.checkboxes.map((function(t){return t.checked}))},t.prototype.hasStateChanged=function(){var t=this.checkboxes.map((function(t){return t.checked}));return this.initialState.some((function(e,n){return e!==t[n]}))},t.prototype.close=function(){this.dropdown.setAttribute("aria-expanded","false"),this.hasStateChanged()&&y()&&Y()},t.prototype.toggleDropdown=function(){var t="true"===this.dropdown.getAttribute("aria-expanded");t||this.recordInitialState(),this.dropdown.setAttribute("aria-expanded",t?"false":"true"),t&&y()&&this.hasStateChanged()&&Y()},t.prototype.handleBodyClick=function(t){var e=t.target;this.toggle.contains(e)?this.toggleDropdown():"true"===this.dropdown.getAttribute("aria-expanded")&&!this.dropdown.contains(e)&&window.innerWidth>768&&this.close()},t.prototype.init=function(){document.body.addEventListener("click",this.handleBodyClick.bind(this))},t}();document.querySelectorAll(".fau-dropdown").forEach((function(t){return new Z(t)})),n(498);var $=K.querySelector(".c-active-search-filters__clear-all-button");null==$||$.addEventListener("click",(function(t){t.preventDefault(),k().forEach((function(t){t.dispatchEvent(new Event("click"))})),C()})),n(835),n(508),n(61)})()})();