(()=>{"use strict";function e(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,a,o=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)i.push(r.value)}catch(e){a={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(a)throw a.error}}return i}function t(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var n="include.",r="exclude.",a=function(t){var n=window.fauDegreeProgramData.i18n.degreeProgramFields;return Object.entries(n).map((function(n){var r=e(n,2),a=r[0],o=r[1];return{name:"".concat(t).concat(a),type:"checkbox",text:o}}))},o=function(i,l){var c=window.fauDegreeProgramData.i18n.formFields;i.windowManager.open({title:c.title,body:{type:"container",layout:"flex",style:"max-height: 85vh; overflow-x: hidden; overflow-y: auto;",padding:"10 10 10 10",items:[{type:"form",layout:"flex",direction:"column",align:"stretch",items:[{name:"id",type:"listbox",values:l,label:c.degreeProgram},{name:"lang",type:"listbox",values:[{value:"de",text:"Deutsch"},{value:"en",text:"English"}],label:c.language},{name:"format",type:"listbox",values:[{value:"short",text:"Short"},{value:"full",text:"Full"}],label:c.format},{type:"label",text:c.includeExcludeIgnoredNotice,style:"font-style: italic"},{type:"container",layout:"grid",columns:2,spacing:5,items:[{type:"container",layout:"flex",direction:"column",spacing:5,items:t([{type:"label",text:c.include}],e(a(n)),!1)},{type:"container",layout:"flex",direction:"column",spacing:5,items:t([{type:"label",text:c.exclude},{type:"label",text:c.excludeIgnoredNotice,style:"font-style: italic"}],e(a(r)),!1)}]}]}]},onSubmit:function(t){try{i.insertContent(function(t){var a=function(t){var a={display:"degree-program",id:0,lang:"de",format:"full",include:[],exclude:[]};return Object.entries(t).forEach((function(t){var o=e(t,2),i=o[0],l=o[1];i.startsWith(n)?!0===l&&a.include.push(i.replace(n,"")):i.startsWith(r)?!0===l&&a.exclude.push(i.replace(r,"")):i in a&&(a[i]=l)})),a}(t),o=['display="'.concat(a.display,'"'),'id="'.concat(a.id,'"'),'lang="'.concat(a.lang,'"'),'format="'.concat(a.format,'"')];if(0===a.id)throw new Error("Select a degree program.");return"short"!==a.format&&(a.include.length>0&&o.push('include="'.concat(a.include.join(","),'"')),0===a.include.length&&a.exclude.length>0&&o.push('exclude="'.concat(a.exclude.join(","),'"'))),"[fau-studium ".concat(o.join(" "),"]")}(t.data))}catch(e){i.windowManager.alert(e.message,(function(){o(i,l)}))}}},{})};const i=function(e){var t=window.fauDegreeProgramData.degreePrograms.length?window.fauDegreeProgramData.degreePrograms.map((function(e){return{value:e.id,text:"".concat(e.title.de," (").concat(e.degree.abbreviation.de,")")}})):[];t.unshift({value:0,text:""}),o(e,t)};var l;(l=window.tinymce).create("tinymce.plugins.fau_degree_program_output_shortcodes_plugin",{init:function(e){e.addButton("fau_degree_program_output_shortcodes",{title:"FAU Degree Program Shortcodes",icon:"is-dashicon dashicons dashicons-welcome-learn-more",onclick:function(){return i(e)},onPostRender:function(){jQuery(".mce-i-is-dashicon").css("font-family","dashicons")}})}}),l.PluginManager.add("fau_degree_program_output_shortcodes_plugin",l.plugins.fau_degree_program_output_shortcodes_plugin)})();